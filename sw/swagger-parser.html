<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>@molfar/msapi-parser</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/msapi-parser/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="description" content="msapi-parser module documentation">
    
    <link rel="preload" href="/msapi-parser/assets/css/0.styles.64ca5c7f.css" as="style"><link rel="preload" href="/msapi-parser/assets/js/app.bded45cf.js" as="script"><link rel="preload" href="/msapi-parser/assets/js/2.79cb4c26.js" as="script"><link rel="preload" href="/msapi-parser/assets/js/25.47d81a01.js" as="script"><link rel="prefetch" href="/msapi-parser/assets/js/10.ea326503.js"><link rel="prefetch" href="/msapi-parser/assets/js/11.19fb94d4.js"><link rel="prefetch" href="/msapi-parser/assets/js/12.1b81dedb.js"><link rel="prefetch" href="/msapi-parser/assets/js/13.c8698469.js"><link rel="prefetch" href="/msapi-parser/assets/js/14.c713c1e1.js"><link rel="prefetch" href="/msapi-parser/assets/js/15.89870f87.js"><link rel="prefetch" href="/msapi-parser/assets/js/16.538f20d4.js"><link rel="prefetch" href="/msapi-parser/assets/js/17.ee601123.js"><link rel="prefetch" href="/msapi-parser/assets/js/18.02c777aa.js"><link rel="prefetch" href="/msapi-parser/assets/js/19.60f06c77.js"><link rel="prefetch" href="/msapi-parser/assets/js/20.0985ba80.js"><link rel="prefetch" href="/msapi-parser/assets/js/21.261008f1.js"><link rel="prefetch" href="/msapi-parser/assets/js/22.f5c499b9.js"><link rel="prefetch" href="/msapi-parser/assets/js/23.2a634fc4.js"><link rel="prefetch" href="/msapi-parser/assets/js/24.acd4fb4f.js"><link rel="prefetch" href="/msapi-parser/assets/js/26.4949bd87.js"><link rel="prefetch" href="/msapi-parser/assets/js/27.30313faf.js"><link rel="prefetch" href="/msapi-parser/assets/js/3.08437077.js"><link rel="prefetch" href="/msapi-parser/assets/js/4.8a9254ad.js"><link rel="prefetch" href="/msapi-parser/assets/js/5.aa6c9008.js"><link rel="prefetch" href="/msapi-parser/assets/js/6.864766ac.js"><link rel="prefetch" href="/msapi-parser/assets/js/7.6b4592f9.js"><link rel="prefetch" href="/msapi-parser/assets/js/8.f3f13380.js"><link rel="prefetch" href="/msapi-parser/assets/js/9.fd0892df.js">
    <link rel="stylesheet" href="/msapi-parser/assets/css/0.styles.64ca5c7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/msapi-parser/" class="home-link router-link-active"><!----> <span class="site-name">@molfar/msapi-parser</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/msapi-parser/" class="nav-link">
  Початок
</a></div> <a href="https://github.com/wdc-molfar/msapi-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/msapi-parser/" class="nav-link">
  Початок
</a></div> <a href="https://github.com/wdc-molfar/msapi-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/msapi-parser/intro/" class="sidebar-link">Вступ</a></li><li><a href="/msapi-parser/requirements/" class="sidebar-link">Вимоги</a></li><li><a href="/msapi-parser/software/" class="sidebar-link">Реалізація</a></li><li><a href="/msapi-parser/api/" class="sidebar-link">API</a></li><li><a href="/msapi-parser/test/" class="sidebar-link">Тестування</a></li><li><a href="/msapi-parser/conclusion/" class="sidebar-link">Висновки</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="swaggerparser-class"><a href="#swaggerparser-class" class="header-anchor">#</a> <code>SwaggerParser</code> class</h1> <p>This is the default export of Swagger Parser.  You can create instances of this class using <code>new SwaggerParser()</code>, or you can just call its <a href="/msapi-parser/sw/#class-methods-vs-instance-methods">static methods</a>.</p> <h5 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h5> <ul><li><a href="#api"><code>api</code></a></li> <li><a href="#refs"><code>$refs</code></a></li></ul> <h5 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h5> <ul><li><a href="#validateapi-options-callback"><code>validate()</code></a></li> <li><a href="#dereferenceapi-options-callback"><code>dereference()</code></a></li> <li><a href="#bundleapi-options-callback"><code>bundle()</code></a></li> <li><a href="#parseapi-options-callback"><code>parse()</code></a></li> <li><a href="#resolveapi-options-callback"><code>resolve()</code></a></li></ul> <h3 id="api"><a href="#api" class="header-anchor">#</a> <code>api</code></h3> <p>The <code>api</code> property is the parsed/bundled/dereferenced Swagger API object.  This is the same value that is passed to the callback function (or Promise) when calling the <a href="#parseapi-options-callback"><code>parse</code></a>, <a href="#bundleapi-options-callback"><code>bundle</code></a>, or <a href="#dereferenceapi-options-callback"><code>dereference</code></a> methods.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SwaggerParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>api<span class="token punctuation">;</span>  <span class="token comment">// =&gt; null</span>

<span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> parser<span class="token punctuation">.</span><span class="token function">dereference</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">typeof</span> parser<span class="token punctuation">.</span>api<span class="token punctuation">;</span>     <span class="token comment">// =&gt; &quot;object&quot;</span>

api <span class="token operator">===</span> parser<span class="token punctuation">.</span>api<span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><h3 id="refs"><a href="#refs" class="header-anchor">#</a> <code>$refs</code></h3> <p>The <code>$refs</code> property is a <a href="/msapi-parser/sw/refs.html"><code>$Refs</code></a> object, which lets you access all of the externally-referenced files in the API, as well as easily get and set specific values in the schema using JSON pointers.</p> <p>This is the same value that is passed to the callback function (or Promise) when calling the <a href="#resolveapi-options-callback"><code>resolve</code></a> method.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SwaggerParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// =&gt; [] empty array</span>

<span class="token keyword">await</span> parser<span class="token punctuation">.</span><span class="token function">dereference</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// =&gt; [&quot;my-api.json&quot;]</span>
</code></pre></div><h3 id="validate-api-options-callback"><a href="#validate-api-options-callback" class="header-anchor">#</a> <code>validate(api, [options], [callback])</code></h3> <ul><li><p><strong>api</strong> (<em>required</em>) - <code>string</code> or <code>object</code><br>
A <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or the file path or URL of your Swagger API.  See the <a href="#parseapi-options-callback"><code>parse</code></a> method for more info.</p></li> <li><p><strong>options</strong> (<em>optional</em>) - <code>object</code><br>
See <a href="/msapi-parser/sw/options.html">options</a> for the full list of options</p></li> <li><p><strong>callback</strong> (<em>optional</em>) - <code>function(err, api)</code><br>
A callback that will receive the dereferenced and validated <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p><strong>Return Value:</strong> <code>Promise</code><br>
See <a href="/msapi-parser/sw/#callbacks-vs-promises">Callbacks vs. Promises</a></p></li></ul> <p>Validates the Swagger API against the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/schemas/v2.0/schema.json" target="_blank" rel="noopener noreferrer">Swagger 2.0 schema<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/schemas/v3.0/schema.json" target="_blank" rel="noopener noreferrer">OpenAPI 3.0 Schema<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If <a href="/msapi-parser/sw/options.html#validate-options">the <code>validate.spec</code> option</a> is enabled, then this method also validates against the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md" target="_blank" rel="noopener noreferrer">Swagger 2.0 spec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The specification validator will catch some things that aren't covered by the Swagger 2.0 Schema, such as duplicate parameters, invalid MIME types, etc.</p> <blockquote><p><strong>Note:</strong> Validating against the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md" target="_blank" rel="noopener noreferrer">OpenAPI 3.0 Specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is not (yet) supported.  For now, the <code>validate.spec</code> option is ignored if your API is in OpenAPI 3.0 format.</p></blockquote> <p>If validation fails, then an error will be passed to the callback function, or the Promise will reject. Either way, the error will contain information about why the API is invalid.</p> <p>This method calls <a href="#dereferenceapi-options-callback"><code>dereference</code></a> internally, so the returned <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is fully dereferenced.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay! The API is valid.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Onoes! The API is invalid. '</span> <span class="token operator">+</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="dereference-api-options-callback"><a href="#dereference-api-options-callback" class="header-anchor">#</a> <code>dereference(api, [options], [callback])</code></h3> <ul><li><p><strong>api</strong> (<em>required</em>) - <code>string</code> or <code>object</code><br>
A <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or the file path or URL of your Swagger API.  See the <a href="#parseapi-options-callback"><code>parse</code></a> method for more info.</p></li> <li><p><strong>options</strong> (<em>optional</em>) - <code>object</code><br>
See <a href="/msapi-parser/sw/options.html">options</a> for the full list of options</p></li> <li><p><strong>callback</strong> (<em>optional</em>) - <code>function(err, api)</code><br>
A callback that will receive the dereferenced <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p><strong>Return Value:</strong> <code>Promise</code><br>
See <a href="/msapi-parser/sw/#callbacks-vs-promises">Callbacks vs. Promises</a></p></li></ul> <p>Dereferences all <code>$ref</code> pointers in the Swagger API, replacing each reference with its resolved value.  This results in a <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that does not contain <em>any</em> <code>$ref</code> pointers.  Instead, it's a normal JavaScript object tree that can easily be crawled and used just like any other JavaScript object.  This is great for programmatic usage, especially when using tools that don't understand JSON references.</p> <p>The <code>dereference</code> method maintains object reference equality, meaning that all <code>$ref</code> pointers that point to the same object will be replaced with references to the same object.  Again, this is great for programmatic usage, but it does introduce the risk of <a href="/msapi-parser/sw/#circular-refs">circular references</a>, so be careful if you intend to serialize the API using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener noreferrer"><code>JSON.stringify()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.  Consider using the <a href="#bundleapi-options-callback"><code>bundle</code></a> method instead, which does not create circular references.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">dereference</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// The `api` object is a normal JavaScript object,</span>
<span class="token comment">// so you can easily access any part of the API using simple dot notation</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>definitions<span class="token punctuation">.</span>person<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; {type: &quot;string&quot;}</span>
</code></pre></div><h3 id="bundle-api-options-callback"><a href="#bundle-api-options-callback" class="header-anchor">#</a> <code>bundle(api, [options], [callback])</code></h3> <ul><li><p><strong>api</strong> (<em>required</em>) - <code>string</code> or <code>object</code><br>
A <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or the file path or URL of your Swagger API.  See the <a href="#parseapi-options-callback"><code>parse</code></a> method for more info.</p></li> <li><p><strong>options</strong> (<em>optional</em>) - <code>object</code><br>
See <a href="/msapi-parser/sw/options.html">options</a> for the full list of options</p></li> <li><p><strong>callback</strong> (<em>optional</em>) - <code>function(err, api)</code><br>
A callback that will receive the bundled <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p><strong>Return Value:</strong> <code>Promise</code><br>
See <a href="/msapi-parser/sw/#callbacks-vs-promises">Callbacks vs. Promises</a></p></li></ul> <p>Bundles all referenced files/URLs into a single api that only has <em>internal</em> <code>$ref</code> pointers.  This lets you split-up your API however you want while you're building it, but easily combine all those files together when it's time to package or distribute the API to other people.  The resulting API size will be small, since it will still contain <em>internal</em> JSON references rather than being <a href="#dereferenceapi-options-callback">fully-dereferenced</a>.</p> <p>This also eliminates the risk of <a href="/msapi-parser/sw/#circular-refs">circular references</a>, so the API can be safely serialized using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener noreferrer"><code>JSON.stringify()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>definitions<span class="token punctuation">.</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; {$ref: &quot;#/definitions/schemas~1person.yaml&quot;}</span>
</code></pre></div><h3 id="parse-api-options-callback"><a href="#parse-api-options-callback" class="header-anchor">#</a> <code>parse(api, [options], [callback])</code></h3> <ul><li><p><strong>api</strong> (<em>required</em>) - <code>string</code> or <code>object</code><br>
A <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or the file path or URL of your Swagger API.
<br><br>
The path can be absolute or relative.  In Node, the path is relative to <code>process.cwd()</code>.  In the browser, it's relative to the URL of the page.</p></li> <li><p><strong>options</strong> (<em>optional</em>) - <code>object</code><br>
See <a href="/msapi-parser/sw/options.html">options</a> for the full list of options</p></li> <li><p><strong>callback</strong> (<em>optional</em>) - <code>function(err, api)</code><br>
A callback that will receive the parsed <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or an error.</p></li> <li><p><strong>Return Value:</strong> <code>Promise</code><br>
See <a href="/msapi-parser/sw/#callbacks-vs-promises">Callbacks vs. Promises</a></p></li></ul> <blockquote><p>This method is used internally by other methods, such as <a href="#bundleapi-options-callback"><code>bundle</code></a> and <a href="#dereferenceapi-options-callback"><code>dereference</code></a>.  You probably won't need to call this method yourself.</p></blockquote> <p>Parses the given Swagger API (in JSON or YAML format), and returns it as a JavaScript object.  This method <strong>does not</strong> resolve <code>$ref</code> pointers or dereference anything.  It simply parses <em>one</em> file and returns it.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;API name: %s, Version: %s&quot;</span><span class="token punctuation">,</span> api<span class="token punctuation">.</span>info<span class="token punctuation">.</span>title<span class="token punctuation">,</span> api<span class="token punctuation">.</span>info<span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="resolve-api-options-callback"><a href="#resolve-api-options-callback" class="header-anchor">#</a> <code>resolve(api, [options], [callback])</code></h3> <ul><li><p><strong>api</strong> (<em>required</em>) - <code>string</code> or <code>object</code><br>
A <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#swagger-object" target="_blank" rel="noopener noreferrer">Swagger Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or the file path or URL of your Swagger API.  See the <a href="#parseapi-options-callback"><code>parse</code></a> method for more info.</p></li> <li><p><strong>options</strong> (<em>optional</em>) - <code>object</code><br>
See <a href="/msapi-parser/sw/options.html">options</a> for the full list of options</p></li> <li><p><strong>callback</strong> (<em>optional</em>) - <code>function(err, $refs)</code><br>
A callback that will receive a <a href="refs.yaml"><code>$Refs</code></a> object.</p></li> <li><p><strong>Return Value:</strong> <code>Promise</code><br>
See <a href="/msapi-parser/sw/#callbacks-vs-promises">Callbacks vs. Promises</a></p></li></ul> <blockquote><p>This method is used internally by other methods, such as <a href="#bundleapi-options-callback"><code>bundle</code></a> and <a href="#dereferenceapi-options-callback"><code>dereference</code></a>.  You probably won't need to call this method yourself.</p></blockquote> <p>Resolves all JSON references (<code>$ref</code> pointers) in the given Swagger API.  If it references any other files/URLs, then they will be downloaded and resolved as well (unless <code>options.$refs.external</code> is false).   This method <strong>does not</strong> dereference anything.  It simply gives you a <a href="refs.yaml"><code>$Refs</code></a> object, which is a map of all the resolved references and their values.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> $refs <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// $refs.paths() returns the paths of all the files in your API</span>
<span class="token keyword">let</span> filePaths <span class="token operator">=</span> $refs<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// $refs.get() lets you query parts of your API</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> $refs<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;schemas/person.yaml#/properties/name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// $refs.set() lets you change parts of your API</span>
$refs<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;schemas/person.yaml#/properties/favoriteColor/default&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Останнє оновлення:</span> <span class="time">10/7/2021, 6:24:24 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/msapi-parser/assets/js/app.bded45cf.js" defer></script><script src="/msapi-parser/assets/js/2.79cb4c26.js" defer></script><script src="/msapi-parser/assets/js/25.47d81a01.js" defer></script>
  </body>
</html>
