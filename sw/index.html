<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>@molfar/msapi-parser</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/msapi-parser/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="description" content="msapi-parser module documentation">
    
    <link rel="preload" href="/msapi-parser/assets/css/0.styles.64ca5c7f.css" as="style"><link rel="preload" href="/msapi-parser/assets/js/app.bded45cf.js" as="script"><link rel="preload" href="/msapi-parser/assets/js/2.79cb4c26.js" as="script"><link rel="preload" href="/msapi-parser/assets/js/22.f5c499b9.js" as="script"><link rel="prefetch" href="/msapi-parser/assets/js/10.ea326503.js"><link rel="prefetch" href="/msapi-parser/assets/js/11.19fb94d4.js"><link rel="prefetch" href="/msapi-parser/assets/js/12.1b81dedb.js"><link rel="prefetch" href="/msapi-parser/assets/js/13.c8698469.js"><link rel="prefetch" href="/msapi-parser/assets/js/14.c713c1e1.js"><link rel="prefetch" href="/msapi-parser/assets/js/15.89870f87.js"><link rel="prefetch" href="/msapi-parser/assets/js/16.538f20d4.js"><link rel="prefetch" href="/msapi-parser/assets/js/17.ee601123.js"><link rel="prefetch" href="/msapi-parser/assets/js/18.02c777aa.js"><link rel="prefetch" href="/msapi-parser/assets/js/19.60f06c77.js"><link rel="prefetch" href="/msapi-parser/assets/js/20.0985ba80.js"><link rel="prefetch" href="/msapi-parser/assets/js/21.261008f1.js"><link rel="prefetch" href="/msapi-parser/assets/js/23.2a634fc4.js"><link rel="prefetch" href="/msapi-parser/assets/js/24.acd4fb4f.js"><link rel="prefetch" href="/msapi-parser/assets/js/25.47d81a01.js"><link rel="prefetch" href="/msapi-parser/assets/js/26.4949bd87.js"><link rel="prefetch" href="/msapi-parser/assets/js/27.30313faf.js"><link rel="prefetch" href="/msapi-parser/assets/js/3.08437077.js"><link rel="prefetch" href="/msapi-parser/assets/js/4.8a9254ad.js"><link rel="prefetch" href="/msapi-parser/assets/js/5.aa6c9008.js"><link rel="prefetch" href="/msapi-parser/assets/js/6.864766ac.js"><link rel="prefetch" href="/msapi-parser/assets/js/7.6b4592f9.js"><link rel="prefetch" href="/msapi-parser/assets/js/8.f3f13380.js"><link rel="prefetch" href="/msapi-parser/assets/js/9.fd0892df.js">
    <link rel="stylesheet" href="/msapi-parser/assets/css/0.styles.64ca5c7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/msapi-parser/" class="home-link router-link-active"><!----> <span class="site-name">@molfar/msapi-parser</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/msapi-parser/" class="nav-link">
  Початок
</a></div> <a href="https://github.com/wdc-molfar/msapi-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/msapi-parser/" class="nav-link">
  Початок
</a></div> <a href="https://github.com/wdc-molfar/msapi-parser" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/msapi-parser/intro/" class="sidebar-link">Вступ</a></li><li><a href="/msapi-parser/requirements/" class="sidebar-link">Вимоги</a></li><li><a href="/msapi-parser/software/" class="sidebar-link">Реалізація</a></li><li><a href="/msapi-parser/api/" class="sidebar-link">API</a></li><li><a href="/msapi-parser/test/" class="sidebar-link">Тестування</a></li><li><a href="/msapi-parser/conclusion/" class="sidebar-link">Висновки</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="swagger-parser-api"><a href="#swagger-parser-api" class="header-anchor">#</a> Swagger Parser API</h1> <h2 id="things-to-know"><a href="#things-to-know" class="header-anchor">#</a> Things to Know</h2> <ul><li><a href="#class-methods-vs-instance-methods">Class methods vs. Instance methods</a></li> <li><a href="#callbacks-vs-promises">Callbacks vs. Promises</a></li> <li><a href="#circular-refs">Circular references</a></li></ul> <h2 id="classes-methods"><a href="#classes-methods" class="header-anchor">#</a> Classes &amp; Methods</h2> <h4 id="the-swaggerparser-class"><a href="#the-swaggerparser-class" class="header-anchor">#</a> <a href="/msapi-parser/sw/swagger-parser.html">The <code>SwaggerParser</code> class</a></h4> <ul><li><a href="/msapi-parser/sw/swagger-parser.html#api"><code>api</code> property</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#refs"><code>$refs</code> property</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#validateapi-options-callback"><code>validate()</code> method</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#dereferenceapi-options-callback"><code>dereference()</code> method</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#bundleapi-options-callback"><code>bundle()</code> method</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#parseapi-options-callback"><code>parse()</code> method</a></li> <li><a href="/msapi-parser/sw/swagger-parser.html#resolveapi-options-callback"><code>resolve()</code> method</a></li></ul> <h4 id="the-refs-class"><a href="#the-refs-class" class="header-anchor">#</a> <a href="/msapi-parser/sw/refs.html">The <code>$Refs</code> class</a></h4> <ul><li><a href="/msapi-parser/sw/refs.html#circular"><code>circular</code> property</a></li> <li><a href="/msapi-parser/sw/refs.html#pathstypes"><code>paths()</code> method</a></li> <li><a href="/msapi-parser/sw/refs.html#valuestypes"><code>values()</code> method</a></li> <li><a href="/msapi-parser/sw/refs.html#existsref"><code>exists()</code> method</a></li> <li><a href="/msapi-parser/sw/refs.html#getref-options"><code>get()</code> method</a></li> <li><a href="/msapi-parser/sw/refs.html#setref-value-options"><code>set()</code> method</a></li></ul> <h4 id="the-options-object"><a href="#the-options-object" class="header-anchor">#</a> <a href="/msapi-parser/sw/options.html">The <code>Options</code> object</a></h4> <h3 id="class-methods-vs-instance-methods"><a href="#class-methods-vs-instance-methods" class="header-anchor">#</a> Class methods vs. Instance methods</h3> <p>All of Swagger Parser's methods are available as static (class) methods, and as instance methods.  The static methods simply create a new <a href="/msapi-parser/sw/swagger-parser.html"><code>SwaggerParser</code></a> instance and then call the corresponding instance method.  Thus, the following line...</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>SwaggerParser<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>... is the same as this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SwaggerParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parser<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token string">&quot;my-api.yaml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The difference is that in the second example you now have a reference to <code>parser</code>, which means you can access the results (<a href="/msapi-parser/sw/swagger-parser.html#api-object"><code>parser.api</code></a> and <a href="/msapi-parser/sw/swagger-parser.html#refs"><code>parser.$refs</code></a>) anytime you want, rather than just in the callback function.</p> <h3 id="callbacks-vs-promises"><a href="#callbacks-vs-promises" class="header-anchor">#</a> Callbacks vs. Promises</h3> <p>Many people prefer <code>async</code>/<code>await</code> or <a href="http://javascriptplayground.com/blog/2015/02/promises/" target="_blank" rel="noopener noreferrer">Promise<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> syntax instead of callbacks.  Swagger Parser allows you to use whichever one you prefer.</p> <p>If you pass a callback function to any method, then the method will call the callback using the Node.js error-first convention.  If you do <em>not</em> pass a callback function, then the method will return a Promise.</p> <p>The following two examples are equivalent:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Callback syntax</span>
SwaggerParser<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>mySchema<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Error</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// Success</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// async/await syntax</span>
    <span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token keyword">await</span> SwaggerParser<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>mySchema<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Success</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Error</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="circular-refs"><a href="#circular-refs" class="header-anchor">#</a> Circular $Refs</h3> <p>Swagger APIs can contain <a href="https://gist.github.com/JamesMessinger/d18278935fc73e3a0ee1" target="_blank" rel="noopener noreferrer">circular $ref pointers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and Swagger Parser fully supports them. Circular references can be resolved and dereferenced just like any other reference.  However, if you intend to serialize the dereferenced api as JSON, then you should be aware that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener noreferrer"><code>JSON.stringify</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> does not support circular references by default, so you will need to <a href="https://stackoverflow.com/questions/11616630/json-stringify-avoid-typeerror-converting-circular-structure-to-json" target="_blank" rel="noopener noreferrer">use a custom replacer function<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>You can disable circular references by setting the <a href="/msapi-parser/sw/options.html"><code>dereference.circular</code></a> option to <code>false</code>. Then, if a circular reference is found, a <code>ReferenceError</code> will be thrown.</p> <p>Or you can choose to just ignore circular references altogether by setting the <a href="/msapi-parser/sw/options.html"><code>dereference.circular</code></a> option to <code>&quot;ignore&quot;</code>.  In this case, all non-circular references will still be dereferenced as normal, but any circular references will remain in the schema.</p> <p>Another option is to use the <a href="/msapi-parser/sw/swagger-parser.html#bundleapi-options-callback"><code>bundle</code></a> method rather than the <a href="/msapi-parser/sw/swagger-parser.html#dereferenceapi-options-callback"><code>dereference</code></a> method.  Bundling does <em>not</em> result in circular references, because it simply converts <em>external</em> <code>$ref</code> pointers to <em>internal</em> ones.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;person&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;spouse&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;$ref&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#/person&quot;</span>        <span class="token comment">// circular reference</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Останнє оновлення:</span> <span class="time">10/7/2021, 6:24:24 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/msapi-parser/assets/js/app.bded45cf.js" defer></script><script src="/msapi-parser/assets/js/2.79cb4c26.js" defer></script><script src="/msapi-parser/assets/js/22.f5c499b9.js" defer></script>
  </body>
</html>
