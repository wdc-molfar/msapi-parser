<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:6,&quot;tests&quot;:17,&quot;passes&quot;:16,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2021-10-18T13:30:33.897Z&quot;,&quot;end&quot;:&quot;2021-10-18T13:30:34.028Z&quot;,&quot;duration&quot;:131,&quot;testsRegistered&quot;:92,&quot;passPercent&quot;:17.391304347826086,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:75,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;a8d42eea-530d-420a-af29-c906dece89b5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5d09bc05-7d4f-4bc5-832b-aad1259f3049&quot;,&quot;title&quot;:&quot;Callback &amp; Promise syntax&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1a037353-b29b-4950-91f4-324b0399ac70&quot;,&quot;title&quot;:&quot;parse method&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the callback function upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax parse method should call the callback function upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nparser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.equal(null);\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ea53d3d-8c2f-418d-a303-673604069c18&quot;,&quot;parentUUID&quot;:&quot;1a037353-b29b-4950-91f4-324b0399ac70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the callback function upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax parse method should call the callback function upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n    expect(result).to.equal(undefined);\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad0d88c9-7905-49e7-9ea0-6381698e4f5f&quot;,&quot;parentUUID&quot;:&quot;1a037353-b29b-4950-91f4-324b0399ac70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should resolve the Promise upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax parse method should resolve the Promise upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nreturn parser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;))\n  .then((result) =&gt; {\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4656c30-e231-45a5-8266-296b7507710a&quot;,&quot;parentUUID&quot;:&quot;1a037353-b29b-4950-91f4-324b0399ac70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject the Promise upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax parse method should reject the Promise upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;))\n  .then(helper.shouldNotGetCalled)\n  .catch((err) =&gt; {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08402070-5e8f-4973-9d85-bacbb333fb5c&quot;,&quot;parentUUID&quot;:&quot;1a037353-b29b-4950-91f4-324b0399ac70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4ea53d3d-8c2f-418d-a303-673604069c18&quot;,&quot;ad0d88c9-7905-49e7-9ea0-6381698e4f5f&quot;,&quot;a4656c30-e231-45a5-8266-296b7507710a&quot;,&quot;08402070-5e8f-4973-9d85-bacbb333fb5c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;abafde97-53eb-48e3-8600-8946a59d627c&quot;,&quot;title&quot;:&quot;resolve method&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the callback function upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax resolve method should call the callback function upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nparser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.equal(null);\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2587c5a-6667-46f5-9962-db9d1ade6a14&quot;,&quot;parentUUID&quot;:&quot;abafde97-53eb-48e3-8600-8946a59d627c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the callback function upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax resolve method should call the callback function upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n    expect(result).to.equal(undefined);\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26b0f811-ad8f-4722-986f-2204d6ae57d7&quot;,&quot;parentUUID&quot;:&quot;abafde97-53eb-48e3-8600-8946a59d627c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should resolve the Promise upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax resolve method should resolve the Promise upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nreturn parser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;))\n  .then((result) =&gt; {\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;232056d5-fbf6-40c7-be1a-baab5cfaa17c&quot;,&quot;parentUUID&quot;:&quot;abafde97-53eb-48e3-8600-8946a59d627c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject the Promise upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax resolve method should reject the Promise upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;))\n  .then(helper.shouldNotGetCalled)\n  .catch((err) =&gt; {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;977523e9-110b-4531-9dba-162da40bafe4&quot;,&quot;parentUUID&quot;:&quot;abafde97-53eb-48e3-8600-8946a59d627c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c2587c5a-6667-46f5-9962-db9d1ade6a14&quot;,&quot;26b0f811-ad8f-4722-986f-2204d6ae57d7&quot;,&quot;232056d5-fbf6-40c7-be1a-baab5cfaa17c&quot;,&quot;977523e9-110b-4531-9dba-162da40bafe4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b555bde2-a9bd-4397-bdde-30b603b5e073&quot;,&quot;title&quot;:&quot;dereference method&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the callback function upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax dereference method should call the callback function upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nparser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.equal(null);\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;800837dd-622a-4f39-a059-68740248b9e0&quot;,&quot;parentUUID&quot;:&quot;b555bde2-a9bd-4397-bdde-30b603b5e073&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the callback function upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax dereference method should call the callback function upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n    expect(result).to.equal(undefined);\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72effdca-ac31-4f99-b396-99a405901eb8&quot;,&quot;parentUUID&quot;:&quot;b555bde2-a9bd-4397-bdde-30b603b5e073&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should resolve the Promise upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax dereference method should resolve the Promise upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nreturn parser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;))\n  .then((result) =&gt; {\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f959f36-2d65-4b86-8889-12f05899f052&quot;,&quot;parentUUID&quot;:&quot;b555bde2-a9bd-4397-bdde-30b603b5e073&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject the Promise upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax dereference method should reject the Promise upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;))\n  .then(helper.shouldNotGetCalled)\n  .catch((err) =&gt; {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35e14d68-dfa6-4c4d-901b-19b7075c7406&quot;,&quot;parentUUID&quot;:&quot;b555bde2-a9bd-4397-bdde-30b603b5e073&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;800837dd-622a-4f39-a059-68740248b9e0&quot;,&quot;72effdca-ac31-4f99-b396-99a405901eb8&quot;,&quot;4f959f36-2d65-4b86-8889-12f05899f052&quot;,&quot;35e14d68-dfa6-4c4d-901b-19b7075c7406&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;57fc712d-18f9-45d9-ad2d-cc8c486f8868&quot;,&quot;title&quot;:&quot;bundle method&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the callback function upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax bundle method should call the callback function upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nparser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.equal(null);\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c971eeb1-23b9-42a1-8d4a-33c18ba2062b&quot;,&quot;parentUUID&quot;:&quot;57fc712d-18f9-45d9-ad2d-cc8c486f8868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the callback function upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax bundle method should call the callback function upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n    expect(result).to.equal(undefined);\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86fb3632-9971-4793-930a-63bc68dc542d&quot;,&quot;parentUUID&quot;:&quot;57fc712d-18f9-45d9-ad2d-cc8c486f8868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should resolve the Promise upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax bundle method should resolve the Promise upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nreturn parser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;))\n  .then((result) =&gt; {\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00ff194b-6f79-4943-91fe-848432a68a97&quot;,&quot;parentUUID&quot;:&quot;57fc712d-18f9-45d9-ad2d-cc8c486f8868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject the Promise upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax bundle method should reject the Promise upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;))\n  .then(helper.shouldNotGetCalled)\n  .catch((err) =&gt; {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0507a444-7fcd-4a58-b8eb-d9a8f718a793&quot;,&quot;parentUUID&quot;:&quot;57fc712d-18f9-45d9-ad2d-cc8c486f8868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c971eeb1-23b9-42a1-8d4a-33c18ba2062b&quot;,&quot;86fb3632-9971-4793-930a-63bc68dc542d&quot;,&quot;00ff194b-6f79-4943-91fe-848432a68a97&quot;,&quot;0507a444-7fcd-4a58-b8eb-d9a8f718a793&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4f13c73a-09b8-4853-b5e8-a3e49b14a115&quot;,&quot;title&quot;:&quot;validate method&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\callbacks-promises\\callbacks-promises.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call the callback function upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax validate method should call the callback function upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nparser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.equal(null);\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected [SyntaxError: MSAPI schema validation failed. \n  Missing required property: metadata at #/\n  Missing required property: msapi at #/\n \nJSON_OBJECT_VALIDATION_FAILED] to equal null&quot;,&quot;estack&quot;:&quot;AssertionError: expected [SyntaxError: MSAPI schema validation failed. \n  Missing required property: metadata at #/\n  Missing required property: msapi at #/\n \nJSON_OBJECT_VALIDATION_FAILED] to equal null\n    at D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\callbacks-promises\\callbacks-promises.spec.js:32:26\n    at D:\\MOLFAR\\1\\msapi-parser\\node_modules\\call-me-maybe\\index.js:13:28\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)&quot;},&quot;uuid&quot;:&quot;ace277a5-839f-475b-8133-fd8a6fd03eae&quot;,&quot;parentUUID&quot;:&quot;4f13c73a-09b8-4853-b5e8-a3e49b14a115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call the callback function upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax validate method should call the callback function upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;), (err, result) =&gt; {\n  try {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n    expect(result).to.equal(undefined);\n    done();\n  }\n  catch (e) {\n    done(e);\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2d0e3c4-c7f4-414d-97c6-1e4af145d009&quot;,&quot;parentUUID&quot;:&quot;4f13c73a-09b8-4853-b5e8-a3e49b14a115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should resolve the Promise upon success&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax validate method should resolve the Promise upon success&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nreturn parser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;))\n  .then((result) =&gt; {\n    expect(result).to.be.an(\&quot;object\&quot;);\n    expect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/callbacks-promises/callbacks-promises.yaml\&quot;)]);\n    if (method === \&quot;resolve\&quot;) {\n      expect(result).to.equal(parser.$refs);\n    }\n    else {\n      expect(result).to.equal(parser.schema);\n      // Make sure the API was parsed correctly\n      let expected = getSchema(method);\n      expect(result).to.deep.equal(expected);\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dbcf65a-e274-49a7-8260-2203ff4560d7&quot;,&quot;parentUUID&quot;:&quot;4f13c73a-09b8-4853-b5e8-a3e49b14a115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should reject the Promise upon failure&quot;,&quot;fullTitle&quot;:&quot;Callback &amp; Promise syntax validate method should reject the Promise upon failure&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return SwaggerParser[method](path.rel(\&quot;specs/callbacks-promises/callbacks-promises-error.yaml\&quot;))\n  .then(helper.shouldNotGetCalled)\n  .catch((err) =&gt; {\n    expect(err).to.be.an.instanceOf(SyntaxError);\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb14a8f0-c772-4d44-8b63-e61d63fc79ea&quot;,&quot;parentUUID&quot;:&quot;4f13c73a-09b8-4853-b5e8-a3e49b14a115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;ace277a5-839f-475b-8133-fd8a6fd03eae&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d2d0e3c4-c7f4-414d-97c6-1e4af145d009&quot;,&quot;1dbcf65a-e274-49a7-8260-2203ff4560d7&quot;,&quot;bb14a8f0-c772-4d44-8b63-e61d63fc79ea&quot;],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bae71162-d99c-473a-9854-06313418ac86&quot;,&quot;title&quot;:&quot;API with circular (recursive) $refs&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\circular\\circular.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\circular\\circular.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse successfully&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should parse successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.parse(path.rel(\&quot;specs/circular/circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(parsedAPI.api);\nexpect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/circular/circular.yaml\&quot;)]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28eda975-a0e5-42a3-a3ff-edb299896317&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should resolve successfully&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should resolve successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet $refs = await parser.resolve(schemaFile);\nexpect(parser.api).to.deep.equal(parsedAPI);\nexpect(parser.$refs).to.equal($refs);\n// Resolved file paths\nexpect($refs.paths()).to.have.same.members(expectedFiles);\nif (host.node) {\n  expect($refs.paths([\&quot;file\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;http\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\nelse {\n  expect($refs.paths([\&quot;http\&quot;, \&quot;https\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;fs\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\n// Resolved values\nlet values = $refs.values();\nexpect(values).to.have.keys(expectedFiles);\nfor (let [i, file] of expectedFiles.entries()) {\n  let actual = helper.convertNodeBuffersToPOJOs(values[file]);\n  let expected = expectedValues[i];\n  expect(actual).to.deep.equal(expected, file);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be38230e-b69d-4fe2-af03-739dc83729bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should dereference successfully&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should dereference successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.dereference(path.rel(\&quot;specs/circular/circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(dereferencedAPI);\n// Reference equality\nexpect(api.definitions.person.properties.spouse).to.equal(api.definitions.person);\nexpect(api.definitions.parent.properties.children.items).to.equal(api.definitions.child);\nexpect(api.definitions.child.properties.parents.items).to.equal(api.definitions.parent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c2a2211-ddf1-4952-8579-645ffaa4d46a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should validate successfully&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should validate successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.validate(path.rel(\&quot;specs/circular/circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(validatedAPI.fullyDereferenced);\n// Reference equality\nexpect(api.definitions.person.properties.spouse).to.equal(api.definitions.person);\nexpect(api.definitions.parent.properties.children.items).to.equal(api.definitions.child);\nexpect(api.definitions.child.properties.parents.items).to.equal(api.definitions.parent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47cc42d8-a46a-4f23-a382-f1987cdfdd55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should not dereference circular $refs if \&quot;options.dereference.circular\&quot; is \&quot;ignore\&quot;&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should not dereference circular $refs if \&quot;options.dereference.circular\&quot; is \&quot;ignore\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.validate(path.rel(\&quot;specs/circular/circular.yaml\&quot;), { dereference: { circular: \&quot;ignore\&quot; }});\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(validatedAPI.ignoreCircular$Refs);\n// Reference equality\nexpect(api.paths[\&quot;/pet\&quot;].get.responses[\&quot;200\&quot;].schema).to.equal(api.definitions.pet);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44cd30e9-c081-4670-b663-4bd62e75e1bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should fail validation if \&quot;options.dereference.circular\&quot; is false&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should fail validation if \&quot;options.dereference.circular\&quot; is false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\ntry {\n  await parser.validate(path.rel(\&quot;specs/circular/circular.yaml\&quot;), { dereference: { circular: false }});\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(ReferenceError);\n  expect(err.message).to.equal(\&quot;The API contains circular references\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b7662fd-f709-46ea-a958-14527b601158&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should bundle successfully&quot;,&quot;fullTitle&quot;:&quot;API with circular (recursive) $refs should bundle successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.bundle(path.rel(\&quot;specs/circular/circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(bundledAPI);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c154e664-aec4-4e7d-9c72-0a0ee73b75bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;28eda975-a0e5-42a3-a3ff-edb299896317&quot;,&quot;be38230e-b69d-4fe2-af03-739dc83729bf&quot;,&quot;5c2a2211-ddf1-4952-8579-645ffaa4d46a&quot;,&quot;47cc42d8-a46a-4f23-a382-f1987cdfdd55&quot;,&quot;44cd30e9-c081-4670-b663-4bd62e75e1bf&quot;,&quot;0b7662fd-f709-46ea-a958-14527b601158&quot;,&quot;c154e664-aec4-4e7d-9c72-0a0ee73b75bb&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;34b3d4e9-179b-4b43-aeb9-ff70af3d73a5&quot;,&quot;title&quot;:&quot;API with deeply-nested circular $refs&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\deep-circular\\deep-circular.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\deep-circular\\deep-circular.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse successfully&quot;,&quot;fullTitle&quot;:&quot;API with deeply-nested circular $refs should parse successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.parse(path.rel(\&quot;specs/deep-circular/deep-circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(parsedAPI.api);\nexpect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/deep-circular/deep-circular.yaml\&quot;)]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8674df4f-b814-444b-8e4e-fb34864bed3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should resolve successfully&quot;,&quot;fullTitle&quot;:&quot;API with deeply-nested circular $refs should resolve successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet $refs = await parser.resolve(schemaFile);\nexpect(parser.api).to.deep.equal(parsedAPI);\nexpect(parser.$refs).to.equal($refs);\n// Resolved file paths\nexpect($refs.paths()).to.have.same.members(expectedFiles);\nif (host.node) {\n  expect($refs.paths([\&quot;file\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;http\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\nelse {\n  expect($refs.paths([\&quot;http\&quot;, \&quot;https\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;fs\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\n// Resolved values\nlet values = $refs.values();\nexpect(values).to.have.keys(expectedFiles);\nfor (let [i, file] of expectedFiles.entries()) {\n  let actual = helper.convertNodeBuffersToPOJOs(values[file]);\n  let expected = expectedValues[i];\n  expect(actual).to.deep.equal(expected, file);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ae44776-fd55-4c26-8b70-5926f7e7bcdf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should dereference successfully&quot;,&quot;fullTitle&quot;:&quot;API with deeply-nested circular $refs should dereference successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.dereference(path.rel(\&quot;specs/deep-circular/deep-circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(dereferencedAPI);\n// Reference equality\nexpect(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.level3.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.level3.properties.level4.properties.name.type);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8150abd-468e-49e3-b309-2b4cabec4055&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should validate successfully&quot;,&quot;fullTitle&quot;:&quot;API with deeply-nested circular $refs should validate successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.validate(path.rel(\&quot;specs/deep-circular/deep-circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(dereferencedAPI);\n// Reference equality\nexpect(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.level3.properties.name.type)\n  .to.equal(api.paths[\&quot;/family-tree\&quot;].get.responses[\&quot;200\&quot;].schema.properties.level1.properties.level2.properties.level3.properties.level4.properties.name.type);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf112a90-f578-4ba5-9d04-78ed918491c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should bundle successfully&quot;,&quot;fullTitle&quot;:&quot;API with deeply-nested circular $refs should bundle successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.bundle(path.rel(\&quot;specs/deep-circular/deep-circular.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(bundledAPI);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6fbd30a-81a4-41c1-b300-c5d5f6f99628&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8674df4f-b814-444b-8e4e-fb34864bed3a&quot;,&quot;0ae44776-fd55-4c26-8b70-5926f7e7bcdf&quot;,&quot;a8150abd-468e-49e3-b309-2b4cabec4055&quot;,&quot;cf112a90-f578-4ba5-9d04-78ed918491c9&quot;,&quot;f6fbd30a-81a4-41c1-b300-c5d5f6f99628&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2fa020b0-68c0-461e-bbd8-2925be16006e&quot;,&quot;title&quot;:&quot;Exports&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\exports.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\exports.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should export the SwaggerParser class&quot;,&quot;fullTitle&quot;:&quot;Exports should export the SwaggerParser class&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(SwaggerParser).to.be.a(\&quot;function\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f166cae3-d1e7-41f3-95e0-76b99747e380&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should export all the static methods of SwaggerParser&quot;,&quot;fullTitle&quot;:&quot;Exports should export all the static methods of SwaggerParser&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(SwaggerParser.parse).to.be.a(\&quot;function\&quot;);\nexpect(SwaggerParser.resolve).to.be.a(\&quot;function\&quot;);\nexpect(SwaggerParser.bundle).to.be.a(\&quot;function\&quot;);\nexpect(SwaggerParser.dereference).to.be.a(\&quot;function\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;741c5da3-becc-4aa9-9a30-c4360ca4a886&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should export the validate method&quot;,&quot;fullTitle&quot;:&quot;Exports should export the validate method&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(SwaggerParser.validate).to.be.a(\&quot;function\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98750408-e3fa-4c08-8950-0483a113e61e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f166cae3-d1e7-41f3-95e0-76b99747e380&quot;,&quot;741c5da3-becc-4aa9-9a30-c4360ca4a886&quot;,&quot;98750408-e3fa-4c08-8950-0483a113e61e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;741f6c55-19bf-474b-96e9-abd3314ab632&quot;,&quot;title&quot;:&quot;Invalid APIs (can&#x27;t be parsed)&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\invalid\\invalid.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\invalid\\invalid.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;not a Swagger API&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (can&#x27;t be parsed) not a Swagger API&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.parse(path.rel(\&quot;specs/invalid/not-swagger.yaml\&quot;));\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.contain(\&quot;not-swagger.yaml is not a valid Openapi API definition\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;068114c5-94a5-4da7-9d15-0ebebd90af8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid Swagger version (1.2)&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (can&#x27;t be parsed) invalid Swagger version (1.2)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.dereference(path.rel(\&quot;specs/invalid/old-version.yaml\&quot;));\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(\&quot;Unrecognized Swagger version: 1.2. Expected 2.0\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01457347-3bb5-4da5-bbf5-49e87f3ed36a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid Swagger version (3.0)&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (can&#x27;t be parsed) invalid Swagger version (3.0)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.bundle(path.rel(\&quot;specs/invalid/newer-version.yaml\&quot;));\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(\&quot;Unrecognized Swagger version: 3.0. Expected 2.0\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed930e82-f06d-4ddb-8f19-d956564dbedf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;numeric Swagger version (instead of a string)&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (can&#x27;t be parsed) numeric Swagger version (instead of a string)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/invalid/numeric-version.yaml\&quot;));\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(&#x27;Swagger version number must be a string (e.g. \\\&quot;2.0\\\&quot;) not a number.&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;014feb3a-83f2-4c76-a58b-94cde79f0a42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;numeric API version (instead of a string)&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (can&#x27;t be parsed) numeric API version (instead of a string)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/invalid/numeric-info-version.yaml\&quot;));\n  helper.shouldNotGetCalled();\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(&#x27;API version number must be a string (e.g. \\\&quot;1.0.0\\\&quot;) not a number.&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15088b2a-4f68-426c-9af3-0920f5aad5c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;068114c5-94a5-4da7-9d15-0ebebd90af8f&quot;,&quot;01457347-3bb5-4da5-bbf5-49e87f3ed36a&quot;,&quot;ed930e82-f06d-4ddb-8f19-d956564dbedf&quot;,&quot;014feb3a-83f2-4c76-a58b-94cde79f0a42&quot;,&quot;15088b2a-4f68-426c-9af3-0920f5aad5c3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c88980ed-acdd-448e-bf96-e4a462c8fae2&quot;,&quot;title&quot;:&quot;Object sources (instead of file paths)&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\object-source\\object-source.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\object-source\\object-source.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should dereference an object that references external files&quot;,&quot;fullTitle&quot;:&quot;Object sources (instead of file paths) should dereference an object that references external files&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.dereference(helper.cloneDeep(parsedAPI.api));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(dereferencedAPI);\n// The API path should be the current directory, and all other paths should be absolute\nlet expectedPaths = [\n  path.cwd(),\n  path.abs(\&quot;specs/object-source/definitions/definitions.json\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/name.yaml\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/required-string.yaml\&quot;)\n];\nexpect(parser.$refs.paths()).to.have.same.members(expectedPaths);\nexpect(parser.$refs.values()).to.have.keys(expectedPaths);\n// Reference equality\nexpect(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema)\n  .to.equal(api.definitions.name);\nexpect(api.definitions.requiredString)\n  .to.equal(api.definitions.name.properties.first)\n  .to.equal(api.definitions.name.properties.last)\n  .to.equal(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema.properties.first)\n  .to.equal(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema.properties.last);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f4221ae-526b-48e2-a582-cf34cd000ba8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should bundle an object that references external files&quot;,&quot;fullTitle&quot;:&quot;Object sources (instead of file paths) should bundle an object that references external files&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.bundle(helper.cloneDeep(parsedAPI.api));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(bundledAPI);\n// The API path should be the current directory, and all other paths should be absolute\nlet expectedPaths = [\n  path.cwd(),\n  path.abs(\&quot;specs/object-source/definitions/definitions.json\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/name.yaml\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/required-string.yaml\&quot;)\n];\nexpect(parser.$refs.paths()).to.have.same.members(expectedPaths);\nexpect(parser.$refs.values()).to.have.keys(expectedPaths);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42cf1eb0-c3c0-420f-933f-0daa48655d23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should validate an object that references external files&quot;,&quot;fullTitle&quot;:&quot;Object sources (instead of file paths) should validate an object that references external files&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nconst api = await parser.dereference(helper.cloneDeep(parsedAPI.api));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(dereferencedAPI);\n// The API path should be the current directory, and all other paths should be absolute\nlet expectedPaths = [\n  path.cwd(),\n  path.abs(\&quot;specs/object-source/definitions/definitions.json\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/name.yaml\&quot;),\n  path.abs(\&quot;specs/object-source/definitions/required-string.yaml\&quot;)\n];\nexpect(parser.$refs.paths()).to.have.same.members(expectedPaths);\nexpect(parser.$refs.values()).to.have.keys(expectedPaths);\n// Reference equality\nexpect(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema)\n  .to.equal(api.definitions.name);\nexpect(api.definitions.requiredString)\n  .to.equal(api.definitions.name.properties.first)\n  .to.equal(api.definitions.name.properties.last)\n  .to.equal(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema.properties.first)\n  .to.equal(api.paths[\&quot;/people/{name}\&quot;].get.responses[\&quot;200\&quot;].schema.properties.last);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89763c6c-cbb1-4c71-b5b6-d39c0d013071&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9f4221ae-526b-48e2-a582-cf34cd000ba8&quot;,&quot;42cf1eb0-c3c0-420f-933f-0daa48655d23&quot;,&quot;89763c6c-cbb1-4c71-b5b6-d39c0d013071&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c90f5d06-b1d1-4419-96dd-63b60b1b0f7f&quot;,&quot;title&quot;:&quot;API with $refs to unknown file types&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\unknown\\unknown.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\unknown\\unknown.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Some old Webkit browsers throw an error when downloading zero-byte files.\nwindowOnError = host.global.onerror;\nhost.global.onerror = function () {\n  testDone();\n  return true;\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d22091ba-8b08-4c58-a44e-026fc68e705a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;host.global.onerror = windowOnError;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad95b255-97fb-476e-9474-5b7b022af501&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse successfully&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types should parse successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet api = await parser.parse(path.rel(\&quot;specs/unknown/unknown.yaml\&quot;));\nexpect(api).to.equal(parser.api);\nexpect(api).to.deep.equal(parsedAPI.api);\nexpect(parser.$refs.paths()).to.deep.equal([path.abs(\&quot;specs/unknown/unknown.yaml\&quot;)]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49be7a3e-e336-4ec7-83dd-620f81669d64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should resolve successfully&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types should resolve successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet $refs = await parser.resolve(schemaFile);\nexpect(parser.api).to.deep.equal(parsedAPI);\nexpect(parser.$refs).to.equal($refs);\n// Resolved file paths\nexpect($refs.paths()).to.have.same.members(expectedFiles);\nif (host.node) {\n  expect($refs.paths([\&quot;file\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;http\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\nelse {\n  expect($refs.paths([\&quot;http\&quot;, \&quot;https\&quot;])).to.have.same.members(expectedFiles);\n  expect($refs.paths(\&quot;fs\&quot;)).to.be.an(\&quot;array\&quot;).with.lengthOf(0);\n}\n// Resolved values\nlet values = $refs.values();\nexpect(values).to.have.keys(expectedFiles);\nfor (let [i, file] of expectedFiles.entries()) {\n  let actual = helper.convertNodeBuffersToPOJOs(values[file]);\n  let expected = expectedValues[i];\n  expect(actual).to.deep.equal(expected, file);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57fb7188-1bee-4493-bbee-a1a57df9069a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should dereference successfully&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types should dereference successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet api = await parser.dereference(path.rel(\&quot;specs/unknown/unknown.yaml\&quot;));\nexpect(api).to.equal(parser.api);\napi.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;115e1a2f-cd26-4b54-99bc-d8dda56504e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should validate successfully&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types should validate successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet api = await parser.validate(path.rel(\&quot;specs/unknown/unknown.yaml\&quot;));\nexpect(api).to.equal(parser.api);\napi.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f880d74-0f2b-4137-896c-d1271a0f74d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should bundle successfully&quot;,&quot;fullTitle&quot;:&quot;API with $refs to unknown file types should bundle successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let parser = new SwaggerParser();\nlet api = await parser.bundle(path.rel(\&quot;specs/unknown/unknown.yaml\&quot;));\nexpect(api).to.equal(parser.api);\napi.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/text\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/html\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/blank\&quot;].get.responses[\&quot;200\&quot;].default);\napi.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default =\n  helper.convertNodeBuffersToPOJOs(dereferencedAPI.paths[\&quot;/files/binary\&quot;].get.responses[\&quot;200\&quot;].default);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de086d5e-ed20-44f3-9ca0-04a85504b32f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;49be7a3e-e336-4ec7-83dd-620f81669d64&quot;,&quot;57fb7188-1bee-4493-bbee-a1a57df9069a&quot;,&quot;115e1a2f-cd26-4b54-99bc-d8dda56504e9&quot;,&quot;9f880d74-0f2b-4137-896c-d1271a0f74d6&quot;,&quot;de086d5e-ed20-44f3-9ca0-04a85504b32f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;27b2b8c2-43b3-4a8d-80f8-9c6f4f98976b&quot;,&quot;title&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation)&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\validate-schema\\validate-schema.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\validate-schema\\validate-schema.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should pass validation if \&quot;options.validate.schema\&quot; is false&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) should pass validation if \&quot;options.validate.schema\&quot; is false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let invalid = tests[0];\nexpect(invalid.valid).to.equal(false);\nconst api = await SwaggerParser\n  .validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + invalid.file), { validate: { schema: false }});\nexpect(api).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12018735-cd1f-4f17-beae-ed86e32918ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid response code&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid response code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;283109e1-03a5-49a1-81c7-0f1ead2ac0f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;optional path param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) optional path param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b98860f4-bceb-4e84-93b9-471154f18b1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;non-required path param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) non-required path param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3685502d-bf2b-411e-9139-c6cb21d766fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid schema type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid schema type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41d4feec-b558-4d9e-8472-0888efb2d273&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid param type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid param type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4256a660-e3d4-4723-93e0-0a1ed44c300c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;non-primitive param type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) non-primitive param type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1d576c1-f1c8-4494-bd79-a4a8d03e72e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid parameter location&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid parameter location&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7ae0a6b-ba8c-4533-a222-a95ca2726a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; type used for non-formData param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) \&quot;file\&quot; type used for non-formData param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abf8833e-9d50-4123-aff1-6f0c855bd70f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; type used for body param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) \&quot;file\&quot; type used for body param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c858c14c-3ffa-49bf-99f1-ff1b0dc75550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;multi\&quot; header param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) \&quot;multi\&quot; header param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;557704d6-4a86-454b-90d7-d35025292df9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;multi\&quot; path param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) \&quot;multi\&quot; path param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4bc4c52-8ca5-4052-874e-0132ff188fa2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid response header type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid response header type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9c67fd0-4797-41a9-9c3c-e1e2f6eb6879&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;non-primitive response header type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) non-primitive response header type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f64cc7dd-5b24-4fba-9756-37388ff1138d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid response schema type&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) invalid response schema type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa6227ce-8220-44c3-a25e-e80db2081158&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;unknown JSON Schema format&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) unknown JSON Schema format&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  const api = await SwaggerParser\n    .validate(path.rel(\&quot;specs/validate-schema/valid/\&quot; + test.file));\n  expect(api).to.be.an(\&quot;object\&quot;);\n}\ncatch (err) {\n  throw new Error(\&quot;Validation should have succeeded, but it failed!\\n\&quot; + err.stack);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5d63b7d-0375-43b8-aa4b-a9602ab22008&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;$ref to invalid Path object&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) $ref to invalid Path object&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d06ed1f6-7b71-4870-aad3-333e402d00c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;Schema with \&quot;allOf\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) Schema with \&quot;allOf\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  const api = await SwaggerParser\n    .validate(path.rel(\&quot;specs/validate-schema/valid/\&quot; + test.file));\n  expect(api).to.be.an(\&quot;object\&quot;);\n}\ncatch (err) {\n  throw new Error(\&quot;Validation should have succeeded, but it failed!\\n\&quot; + err.stack);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebebf2f7-2f8c-4b54-8b47-ca1703a8e8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;Schema with \&quot;anyOf\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) Schema with \&quot;anyOf\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1f1f908-6da7-4342-b72b-47c01a248a76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;Schema with \&quot;oneOf\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 schema validation) Schema with \&quot;oneOf\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-schema/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.match(/^Swagger schema validation failed. \\n  \\w+/);\n  expect(err.details).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  // Make sure the ZSchema error details object is valid\n  let details = err.details[0];\n  expect(details.code).to.be.a(\&quot;string\&quot;).and.match(/[A-Z_]+/);\n  expect(details.message).to.be.a(\&quot;string\&quot;).with.length.of.at.least(1);\n  expect(details.path).to.be.an(\&quot;array\&quot;).with.length.above(0);\n  expect(details.params).to.be.an(\&quot;array\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66d331ad-803c-4209-93d2-0a7d55c9c250&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;12018735-cd1f-4f17-beae-ed86e32918ce&quot;,&quot;283109e1-03a5-49a1-81c7-0f1ead2ac0f3&quot;,&quot;b98860f4-bceb-4e84-93b9-471154f18b1d&quot;,&quot;3685502d-bf2b-411e-9139-c6cb21d766fc&quot;,&quot;41d4feec-b558-4d9e-8472-0888efb2d273&quot;,&quot;4256a660-e3d4-4723-93e0-0a1ed44c300c&quot;,&quot;e1d576c1-f1c8-4494-bd79-a4a8d03e72e1&quot;,&quot;e7ae0a6b-ba8c-4533-a222-a95ca2726a1c&quot;,&quot;abf8833e-9d50-4123-aff1-6f0c855bd70f&quot;,&quot;c858c14c-3ffa-49bf-99f1-ff1b0dc75550&quot;,&quot;557704d6-4a86-454b-90d7-d35025292df9&quot;,&quot;e4bc4c52-8ca5-4052-874e-0132ff188fa2&quot;,&quot;d9c67fd0-4797-41a9-9c3c-e1e2f6eb6879&quot;,&quot;f64cc7dd-5b24-4fba-9756-37388ff1138d&quot;,&quot;fa6227ce-8220-44c3-a25e-e80db2081158&quot;,&quot;d5d63b7d-0375-43b8-aa4b-a9602ab22008&quot;,&quot;d06ed1f6-7b71-4870-aad3-333e402d00c5&quot;,&quot;ebebf2f7-2f8c-4b54-8b47-ca1703a8e8ab&quot;,&quot;f1f1f908-6da7-4342-b72b-47c01a248a76&quot;,&quot;66d331ad-803c-4209-93d2-0a7d55c9c250&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a2d52792-ac2b-42d9-8c19-11b390d7746c&quot;,&quot;title&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation)&quot;,&quot;fullFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\test\\specs\\validate-spec\\validate-spec.spec.js&quot;,&quot;file&quot;:&quot;\\specs\\validate-spec\\validate-spec.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should pass validation if \&quot;options.validate.spec\&quot; is false&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) should pass validation if \&quot;options.validate.spec\&quot; is false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let invalid = tests[0];\nexpect(invalid.valid).to.equal(false);\nconst api = await SwaggerParser\n  .validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + invalid.file), { validate: { spec: false }});\nexpect(api).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcb3dc0c-4388-458d-8fbe-b3c22e27d07f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;invalid response code&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) invalid response code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40530537-f6e0-4099-9759-fd06e5b436f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;duplicate path parameters&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) duplicate path parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2bb96a1-dfda-425d-804e-88813e616ae0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;duplicate operation parameters&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) duplicate operation parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e7d19ec-6a09-466c-beea-fc3b9fd9da24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;multiple body parameters in path&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) multiple body parameters in path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89d59fb8-9887-4dfb-a3b3-06bf52950b95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;multiple body parameters in operation&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) multiple body parameters in operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;139a47b5-987a-4e64-800c-bed5d419c4cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;multiple body parameters in path &amp; operation&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) multiple body parameters in path &amp; operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f16a281-d17d-4906-852b-69d0d1013925&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;body and formData parameters&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) body and formData parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44f5816d-9ae2-4dae-9560-4dd88c5304bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;path param with no placeholder&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) path param with no placeholder&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea4c9140-6f0f-4a99-9cb3-548baa129b14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;path placeholder with no param&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) path placeholder with no param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4870a020-3f88-425b-8407-3149e5a2b899&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;duplicate path placeholders&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) duplicate path placeholders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3036cde-6580-48c5-b361-2fd56ba1bfec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;no path parameters&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) no path parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbc20813-fe71-4dd9-bd14-a4483b22404c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;array param without items&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) array param without items&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9db64237-25fe-4c30-b9d5-ebfae6e5f30a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;array body param without items&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) array body param without items&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cf9e68d-03d7-42c7-8fc8-2a092acb7d67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;array response header without items&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) array response header without items&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;491050b2-644a-4f09-ae85-f311f194768d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; param without \&quot;consumes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) \&quot;file\&quot; param without \&quot;consumes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;439754d7-0d94-4da1-a208-f83d2f37a7b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; param with invalid \&quot;consumes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) \&quot;file\&quot; param with invalid \&quot;consumes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb9c51af-92b6-4edd-88bc-8029db4acc1b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; param with vendor specific form-data \&quot;consumes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) \&quot;file\&quot; param with vendor specific form-data \&quot;consumes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  const api = await SwaggerParser\n    .validate(path.rel(\&quot;specs/validate-spec/valid/\&quot; + test.file));\n  expect(api).to.be.an(\&quot;object\&quot;);\n}\ncatch (err) {\n  throw new Error(\&quot;Validation should have succeeded, but it failed!\\n\&quot; + err.stack);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55363ab7-360f-4442-9e82-474575513d83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;\&quot;file\&quot; param with vendor specific urlencoded \&quot;consumes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) \&quot;file\&quot; param with vendor specific urlencoded \&quot;consumes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  const api = await SwaggerParser\n    .validate(path.rel(\&quot;specs/validate-spec/valid/\&quot; + test.file));\n  expect(api).to.be.an(\&quot;object\&quot;);\n}\ncatch (err) {\n  throw new Error(\&quot;Validation should have succeeded, but it failed!\\n\&quot; + err.stack);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ac66fb1-a855-4aaf-83e6-6cc9358152f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;required property in input does not exist&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) required property in input does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc0700a4-1088-492e-8134-f37bf706036c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;required property in definition does not exist&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) required property in definition does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e24fcf3d-e633-476c-b2b0-1e6cdfbf0f1e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;schema declares required properties which are inherited (allOf)&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) schema declares required properties which are inherited (allOf)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  const api = await SwaggerParser\n    .validate(path.rel(\&quot;specs/validate-spec/valid/\&quot; + test.file));\n  expect(api).to.be.an(\&quot;object\&quot;);\n}\ncatch (err) {\n  throw new Error(\&quot;Validation should have succeeded, but it failed!\\n\&quot; + err.stack);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e91e6dd1-37fe-482d-94d9-696c55a31674&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;duplicate operation IDs&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) duplicate operation IDs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab65ebf4-4deb-499c-be46-522e4077960a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;array response body without items&quot;,&quot;fullTitle&quot;:&quot;Invalid APIs (Swagger 2.0 specification validation) array response body without items&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await SwaggerParser.validate(path.rel(\&quot;specs/validate-spec/invalid/\&quot; + test.file));\n  throw new Error(\&quot;Validation should have failed, but it succeeded!\&quot;);\n}\ncatch (err) {\n  expect(err).to.be.an.instanceOf(SyntaxError);\n  expect(err.message).to.equal(test.error);\n  expect(err.message).to.match(/^Validation failed. \\S+/);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7620201-aa25-4cf9-9e6e-b173a1984829&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dcb3dc0c-4388-458d-8fbe-b3c22e27d07f&quot;,&quot;40530537-f6e0-4099-9759-fd06e5b436f0&quot;,&quot;a2bb96a1-dfda-425d-804e-88813e616ae0&quot;,&quot;5e7d19ec-6a09-466c-beea-fc3b9fd9da24&quot;,&quot;89d59fb8-9887-4dfb-a3b3-06bf52950b95&quot;,&quot;139a47b5-987a-4e64-800c-bed5d419c4cd&quot;,&quot;5f16a281-d17d-4906-852b-69d0d1013925&quot;,&quot;44f5816d-9ae2-4dae-9560-4dd88c5304bc&quot;,&quot;ea4c9140-6f0f-4a99-9cb3-548baa129b14&quot;,&quot;4870a020-3f88-425b-8407-3149e5a2b899&quot;,&quot;f3036cde-6580-48c5-b361-2fd56ba1bfec&quot;,&quot;dbc20813-fe71-4dd9-bd14-a4483b22404c&quot;,&quot;9db64237-25fe-4c30-b9d5-ebfae6e5f30a&quot;,&quot;4cf9e68d-03d7-42c7-8fc8-2a092acb7d67&quot;,&quot;491050b2-644a-4f09-ae85-f311f194768d&quot;,&quot;439754d7-0d94-4da1-a208-f83d2f37a7b8&quot;,&quot;eb9c51af-92b6-4edd-88bc-8029db4acc1b&quot;,&quot;55363ab7-360f-4442-9e82-474575513d83&quot;,&quot;0ac66fb1-a855-4aaf-83e6-6cc9358152f3&quot;,&quot;dc0700a4-1088-492e-8134-f37bf706036c&quot;,&quot;e24fcf3d-e633-476c-b2b0-1e6cdfbf0f1e&quot;,&quot;e91e6dd1-37fe-482d-94d9-696c55a31674&quot;,&quot;ab65ebf4-4deb-499c-be46-522e4077960a&quot;,&quot;f7620201-aa25-4cf9-9e6e-b173a1984829&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.1.3&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.3.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;../docs/.vuepress/public/testReport&quot;,&quot;overwrite&quot;:&quot;true&quot;,&quot;reportTitle&quot;:&quot;MOLFAR msapi-parser&quot;,&quot;showPassed&quot;:&quot;true&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;../docs/.vuepress/public/testReport&quot;,&quot;reportTitle&quot;:&quot;MOLFAR msapi-parser&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;..\\docs\\.vuepress\\public\\testReport\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\docs\\.vuepress\\public\\testReport\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\MOLFAR\\1\\msapi-parser\\docs\\.vuepress\\public\\testReport\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>